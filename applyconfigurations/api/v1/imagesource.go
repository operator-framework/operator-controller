/*
Copyright 2022.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/
// Code generated by controller-gen-v0.20. DO NOT EDIT.

package v1

// ImageSourceApplyConfiguration represents a declarative configuration of the ImageSource type for use
// with apply.
//
// # ImageSource enables users to define the information required for sourcing a Catalog from an OCI image
//
// If we see that there is a possibly valid digest-based image reference AND pollIntervalMinutes is specified,
// reject the resource since there is no use in polling a digest-based image reference.
type ImageSourceApplyConfiguration struct {
	// ref is a required field that defines the reference to a container image containing catalog contents.
	// It cannot be more than 1000 characters.
	//
	// A reference has 3 parts: the domain, name, and identifier.
	//
	// The domain is typically the registry where an image is located.
	// It must be alphanumeric characters (lowercase and uppercase) separated by the "." character.
	// Hyphenation is allowed, but the domain must start and end with alphanumeric characters.
	// Specifying a port to use is also allowed by adding the ":" character followed by numeric values.
	// The port must be the last value in the domain.
	// Some examples of valid domain values are "registry.mydomain.io", "quay.io", "my-registry.io:8080".
	//
	// The name is typically the repository in the registry where an image is located.
	// It must contain lowercase alphanumeric characters separated only by the ".", "_", "__", "-" characters.
	// Multiple names can be concatenated with the "/" character.
	// The domain and name are combined using the "/" character.
	// Some examples of valid name values are "operatorhubio/catalog", "catalog", "my-catalog.prod".
	// An example of the domain and name parts of a reference being combined is "quay.io/operatorhubio/catalog".
	//
	// The identifier is typically the tag or digest for an image reference and is present at the end of the reference.
	// It starts with a separator character used to distinguish the end of the name and beginning of the identifier.
	// For a digest-based reference, the "@" character is the separator.
	// For a tag-based reference, the ":" character is the separator.
	// An identifier is required in the reference.
	//
	// Digest-based references must contain an algorithm reference immediately after the "@" separator.
	// The algorithm reference must be followed by the ":" character and an encoded string.
	// The algorithm must start with an uppercase or lowercase alpha character followed by alphanumeric characters and may contain the "-", "_", "+", and "." characters.
	// Some examples of valid algorithm values are "sha256", "sha256+b64u", "multihash+base58".
	// The encoded string following the algorithm must be hex digits (a-f, A-F, 0-9) and must be a minimum of 32 characters.
	//
	// Tag-based references must begin with a word character (alphanumeric + "_") followed by word characters or ".", and "-" characters.
	// The tag must not be longer than 127 characters.
	//
	// An example of a valid digest-based image reference is "quay.io/operatorhubio/catalog@sha256:200d4ddb2a73594b91358fe6397424e975205bfbe44614f5846033cad64b3f05"
	// An example of a valid tag-based image reference is "quay.io/operatorhubio/catalog:latest"
	Ref *string `json:"ref,omitempty"`
	// pollIntervalMinutes is an optional field that sets the interval, in minutes, at which the image source is polled for new content.
	// You cannot specify pollIntervalMinutes when ref is a digest-based reference.
	//
	// When omitted, the image is not polled for new content.
	PollIntervalMinutes *int `json:"pollIntervalMinutes,omitempty"`
}

// ImageSourceApplyConfiguration constructs a declarative configuration of the ImageSource type for use with
// apply.
func ImageSource() *ImageSourceApplyConfiguration {
	return &ImageSourceApplyConfiguration{}
}

// WithRef sets the Ref field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the Ref field is set to the value of the last call.
func (b *ImageSourceApplyConfiguration) WithRef(value string) *ImageSourceApplyConfiguration {
	b.Ref = &value
	return b
}

// WithPollIntervalMinutes sets the PollIntervalMinutes field in the declarative configuration to the given value
// and returns the receiver, so that objects can be built by chaining "With" function invocations.
// If called multiple times, the PollIntervalMinutes field is set to the value of the last call.
func (b *ImageSourceApplyConfiguration) WithPollIntervalMinutes(value int) *ImageSourceApplyConfiguration {
	b.PollIntervalMinutes = &value
	return b
}
